<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioth√®que de Prompts Interactifs</title>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #2d3748; /* A dark grey, softer than black */
            --primary-color: #1a202c;
            --secondary-color: #718096;
            --accent-color: #3b82f6; /* A modern blue */
            --border-color: #e2e8f0;
            --line-color: #cbd5e1;
            --modal-bg: #ffffff;
            --modal-overlay: rgba(0, 0, 0, 0.6);
            --code-bg: #1a202c;
            --code-text: #e2e8f0;
            --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 2rem 1.5rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 3rem;
            color: var(--primary-color);
            font-weight: 600;
            font-size: 2.25rem;
        }

        /* --- Main Library Structure & Mind Map Lines --- */
        #prompt-library {
            list-style-type: none;
        }

        #prompt-library ul {
            list-style-type: none;
            padding-left: 28px; /* Indentation for nested lists */
            position: relative;
        }

        /* Vertical connecting line */
        #prompt-library ul::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 1px;
            background-color: var(--line-color);
        }
        
        #prompt-library li {
            position: relative;
        }

        /* Horizontal connecting line */
        #prompt-library li::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 18px; 
            width: 12px;
            height: 1px;
            background-color: var(--line-color);
        }

        /* Remove lines for top-level list */
        #prompt-library > .category-item {
             padding-left: 0;
        }
        #prompt-library > .category-item::before {
            display: none;
        }
         #prompt-library > .category-item > .category-title + .prompt-list::before {
             left: 10px;
        }


        /* --- Collapsible Elements --- */
        .collapsible {
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 4px 0;
            font-weight: 500;
        }

        .collapsible:hover {
            color: var(--accent-color);
        }

        .collapsible .indicator {
            color: var(--secondary-color);
            font-family: monospace;
            font-size: 1.2rem;
            line-height: 1;
            width: 1em;
            text-align: center;
            transition: transform 0.2s ease;
        }
        .collapsible.active .indicator {
            color: var(--text-color);
        }
        
        .collapsed-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.35s ease-in-out;
        }

        .category-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .prompt-header {
            font-size: 1.1rem;
        }

        .prompt-icon {
            font-size: 1.2rem;
        }

        .prompt-details {
            padding-left: 45px; /* Aligns with text, past the indicator and icon */
            margin-top: 8px;
            margin-bottom: 16px;
        }
        
        .prompt-details p {
            margin-bottom: 0.75rem;
            color: var(--secondary-color);
            font-size: 0.95rem;
        }
        .prompt-details .summary {
            font-style: italic;
        }
        .prompt-details .comment {
            font-size: 0.9rem;
        }

        .versions-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 1rem;
        }

        .version-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 16px;
            font-size: 0.9rem;
            font-weight: 500;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }

        .version-btn:hover {
            background-color: #2563eb;
        }
        .version-btn:active {
            transform: scale(0.98);
        }

        /* --- Modal Styling --- */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--modal-overlay);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0s 0.3s;
            z-index: 1000;
            padding: 1rem;
        }
        .modal-backdrop.visible {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.3s ease, visibility 0s 0s;
        }
        
        .modal-content {
            background-color: var(--modal-bg);
            padding: 1.5rem 2rem;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }

        .modal-backdrop.visible .modal-content {
            transform: scale(1);
        }

        .modal-content h2 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }
        
        .modal-body {
            flex-grow: 1;
            overflow-y: auto;
            margin-bottom: 1.5rem;
        }

        .modal-body pre {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 1rem;
            border-radius: 6px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 0.9rem;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            flex-shrink: 0;
        }
        
        .modal-btn {
            padding: 10px 20px;
            border-radius: 6px;
            border: 1px solid transparent;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        #copy-btn {
            background-color: var(--accent-color);
            color: white;
        }
        #copy-btn:hover {
            background-color: #2563eb;
        }

        #close-modal-btn {
            background-color: transparent;
            color: var(--secondary-color);
            border: 1px solid var(--border-color);
        }
        #close-modal-btn:hover {
            background-color: var(--border-color);
            color: var(--primary-color);
        }

        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            body {
                padding: 1.5rem 1rem;
            }
            h1 {
                font-size: 1.8rem;
                margin-bottom: 2rem;
            }
            .category-title {
                font-size: 1.3rem;
            }
            .prompt-header {
                font-size: 1rem;
            }
            #prompt-library ul {
                padding-left: 20px;
            }
             #prompt-library li::before {
                width: 4px;
                top: 16px;
            }
            .modal-content {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Biblioth√®que de Prompts Interactifs</h1>
        <ul id="prompt-library">
            <!-- Content will be dynamically generated by JavaScript -->
        </ul>
    </div>

    <!-- Modal Structure -->
    <div id="modal-backdrop" class="modal-backdrop">
        <div id="modal-content" class="modal-content">
            <h2 id="modal-title">Titre du Prompt</h2>
            <div class="modal-body">
                <pre><code id="modal-code"></code></pre>
            </div>
            <div class="modal-actions">
                <button id="copy-btn" class="modal-btn">Copier le Prompt</button>
                <button id="close-modal-btn" class="modal-btn">Fermer</button>
            </div>
        </div>
    </div>

<script>
const promptsData = [
  {
    "category": "1. Extraction & Synth√®se de Document",
    "prompts": [
      {
        "id": "synth_tdm",
        "icon": "üìë",
        "title": "G√©n√©ration de Table des Mati√®res",
        "summary": "Analyse un texte pour g√©n√©rer une table des mati√®res hi√©rarchique et num√©rot√©e.",
        "comment": "Parfait pour structurer de longs documents, des rapports ou des chapitres de livre avant une lecture approfondie.",
        "versions": [
          {
            "id": "synth_tdm_v1",
            "name": "Standard",
            "content": "**Mission :** Analyser le texte fourni et g√©n√©rer une table des mati√®res hi√©rarchique et num√©rot√©e.\n\n**R√®gles Imp√©ratives :**\n1.  **Langue :** La sortie doit √™tre exclusivement en fran√ßais.\n2.  **Traduction :** Traduire fid√®lement en fran√ßais tous les titres et sous-titres s'ils sont dans une autre langue.\n3.  **Structure :** Respecter la hi√©rarchie du document (chapitres, sections) et utiliser une num√©rotation logique (ex: 1., 1.1, 1.2).\n4.  **Contenu :** Les entr√©es de la table des mati√®res doivent correspondre uniquement aux titres et sous-titres identifi√©s dans le texte."
          }
        ]
      }
    ]
  },
  {
    "category": "2. Analyse Approfondie & Strat√©gique",
    "prompts": [
      {
        "id": "custom_analysis",
        "icon": "üß†",
        "title": "Analyse sur Mesure (Plan d'Analyse)",
        "summary": "G√©n√®re un plan d'analyse personnalis√©, puis l'ex√©cute ou le fournit comme un prompt autonome.",
        "meta": "<strong>Tags :</strong> <code>m√©ta-prompt</code>, <code>analyse</code>, <code>expertise</code>, <code>critique</code>",
        "comment": "L'outil ultime pour des analyses profondes. La version 'Analyse Directe' est un tout-en-un. La version 'G√©n√©rateur de Prompt' cr√©e un outil r√©utilisable.",
        "versions": [
          {
            "id": "custom_analysis_direct",
            "name": "Analyse Directe (Plan + Ex√©cution)",
            "content": "**R√¥le :** Expert en analyse de documents.\n\n**Mission :** Fournir une analyse approfondie et structur√©e du document soumis, en deux √©tapes cons√©cutives. La r√©ponse finale doit √™tre r√©dig√©e int√©gralement en fran√ßais et se baser strictement sur le document.\n\n**Processus Op√©rationnel :**\n\n**√âtape 1 : Cr√©ation du Plan d'Analyse sur Mesure**\n1.  **Analyse Pr√©liminaire :** Identifie la nature du document (rapport, article, etc.), son public et son objectif.\n2.  **G√©n√©ration du Plan :** Cr√©e et affiche un plan d'analyse d√©taill√©, structur√© comme suit :\n    *   **1. Identification et Contexte :** (Sujet, Auteur, Th√®se centrale)\n    *   **2. Analyse des Composants Cl√©s :** (M√©thodologie, Analyse des donn√©es/visuels, Arguments principaux)\n    *   **3. Synth√®se et Interpr√©tation :** (Lien th√®se-preuves, Implications)\n    *   **4. √âvaluation et Perspectives :** (Limites, Questions ouvertes)\n\n**√âtape 2 : Ex√©cution de l'Analyse**\nEn suivant le plan que tu viens de g√©n√©rer, r√©dige l'analyse compl√®te et d√©taill√©e du document, en r√©pondant √† chaque point du plan de mani√®re exhaustive."
          },
          {
            "id": "custom_analysis_generator",
            "name": "G√©n√©rateur de Prompt",
            "content": "**R√¥le :** M√©ta-analyseur expert en conception de prompts.\n\n**Mission :** Cr√©er un prompt d'analyse autonome, sp√©cifique et performant pour le document fourni, en suivant un processus en deux phases.\n\n**Processus de Cr√©ation :**\n\n**Phase 1 : Analyse Pr√©liminaire (Processus Interne)**\n*Analyse silencieusement le document pour en extraire l'ADN :*\n1.  **Nature et Objectif :** Forme (article, rapport), public (expert, grand public), but (informer, persuader).\n2.  **Structure Logique :** Flux argumentatif (chronologique, th√©matique), d√©composition des sections.\n3.  **Concepts Cl√©s :** Vocabulaire sp√©cifique, donn√©es fondamentales, acronymes, exemples r√©currents.\n4.  **Th√®se Centrale :** Argument principal explicite et message implicite sous-jacent.\n\n**Phase 2 : Construction de l'Invite Cible (Livrable)**\n*En te basant STRICTEMENT sur ton analyse, r√©dige un nouveau prompt complet et autonome. Ce prompt doit :*\n1.  **√ätre Autonome :** Ne faire aucune r√©f√©rence √† ce processus de cr√©ation.\n2.  **Guider l'IA :** Fournir un r√¥le, une mission claire, et un format de r√©ponse structur√©.\n3.  **√ätre Sp√©cifique :** Inclure des questions cibl√©es bas√©es sur les concepts et la structure que tu as identifi√©s (ex: \"Expliquez le concept de 'X' tel que d√©fini par l'auteur\", \"Analysez le graphique de la page 3\", \"Quelle est la relation entre l'argument A et la conclusion B ?\").\n4.  **Imposer des Contraintes :** Sp√©cifier la langue, le ton, et l'obligation de se baser uniquement sur le texte source.\n\n**Livrable Final :** Le texte complet du nouveau prompt."
          }
        ]
      },
      {
        "id": "analysis_video_strategic",
        "icon": "üìà",
        "title": "Analyse Th√©matique par Id√©e-Cl√©",
        "summary": "D√©compose un texte en id√©es individuelles et les analyse chronologiquement dans un tableau, en utilisant un mot-cl√© unique pour chaque id√©e.",
        "meta": "<strong>Tags :</strong> <code>analyse strat√©gique</code>, <code>th√©matique</code>, <code>esprit critique</code>, <code>tableau</code>",
        "comment": "Extr√™mement puissant pour d√©construire un argumentaire, une conf√©rence ou un cours. Le r√©sultat est une 'colonne vert√©brale' des id√©es du document, pr√™te √† √™tre exploit√©e.",
        "versions": [
          {
            "id": "analysis_video_strategic_v1",
            "name": "Standard",
            "content": "**R√¥le :** Analyste strat√©gique et critique de contenu.\n\n**Mission :** D√©composer le contenu fourni (transcription, article, etc.) en une s√©quence d'id√©es distinctes. Pour chaque id√©e, produire une analyse critique et strat√©gique sous forme de tableau.\n\n**M√©thodologie Op√©rationnelle :**\n\n**1. Parcours et Identification des Id√©es :**\n   *   Parcours le texte de mani√®re strictement chronologique, du d√©but √† la fin.\n   *   Identifie chaque id√©e, argument, affirmation ou point d'information distinct. La granularit√© est essentielle : une nouvelle ligne dans le tableau doit √™tre cr√©√©e pour chaque nouveau concept abord√©, m√™me s'il est court.\n   *   Ignore compl√®tement les horodatages pour la structuration du tableau. L'analyse est purement th√©matique et chronologique.\n\n**2. Remplissage du Tableau d'Analyse :**\n   *   Pour chaque id√©e identifi√©e, remplis les colonnes du tableau en respectant les consignes suivantes :\n     *   **Colonne 1 (Id√©e-Cl√©) :** Synth√©tise l'id√©e centrale de la ligne en **un √† trois mots-cl√©s percutants**. Ce mot-cl√© doit servir de titre unique et √©vocateur pour le point analys√©. Exemples : `Co√ªts des GPU`, `Strat√©gie Open Source`, `R√©tention des Talents`.\n     *   **Colonne 2 (Sujet Cl√©) :** R√©sume le th√®me principal ou l'affirmation centrale de cette id√©e en une seule phrase concise.\n     *   **Colonne 3 (Analyse & Commentaire Strat√©gique) :** Ne te contente pas de r√©sumer. Apporte une plus-value en expliquant l'importance de ce point. (Pourquoi est-ce pertinent ? Quelle est l'implication business/technique/strat√©gique ? Est-ce un point de rupture ? Une faiblesse d'argumentation ?).\n     *   **Colonne 4 (Question Pertinente / Point √† creuser) :** Formule une question ouverte et intelligente qui pousse √† la r√©flexion ou sugg√®re une piste d'approfondissement concr√®te.\n\n**Format de Sortie Imp√©ratif :**\n*   La r√©ponse finale doit √™tre **exclusivement** un tableau Markdown structur√© comme suit. N'ajoute aucune introduction ou conclusion en dehors du tableau.\n\n| Id√©e-Cl√© | Sujet Cl√© | Analyse & Commentaire Strat√©gique | Question Pertinente / Point √† creuser |\n| :--- | :--- | :--- | :--- |\n| [Contenu de la cellule] | [Contenu de la cellule] | [Contenu de la cellule] | [Contenu de la cellule] |"
          }
        ]
      },
      {
        "id": "analysis_prospective",
        "icon": "üîÆ",
        "title": "Analyse Prospective",
        "summary": "D√©crypte les th√®ses d'un document pour projeter leurs implications futures et impacts.",
        "meta": "<strong>Tags :</strong> <code>prospective</code>, <code>strat√©gie</code>, <code>futur</code>, <code>analyse d'impact</code>",
        "comment": "Ne r√©sume pas le pass√©, mais utilise le document comme un tremplin pour imaginer l'avenir. Excellent pour les sessions de brainstorming strat√©gique.",
        "versions": [
          {
            "id": "analysis_prospective_v1",
            "name": "Standard",
            "content": "**R√¥le :** Analyste strat√©gique expert en prospective.\n\n**Mission :** Analyser le document ci-joint pour en extraire exclusivement les implications futures, les opportunit√©s et les d√©fis √† venir.\n\n**M√©thodologie en 2 √âtapes :**\n\n**1. D√©cryptage des Th√®ses Fondamentales :**\n   *   Identifie les concepts, principes et changements de paradigme pr√©sent√©s dans le texte. Quels sont les messages cl√©s qui red√©finissent l'avenir selon ce document ?\n\n**2. Projection des Impacts Futurs :**\n   *   Pour chaque th√®se identifi√©e, projette ses cons√©quences concr√®tes en r√©pondant aux questions suivantes :\n     *   **Changements Radicaux :** Qu'est-ce que cela va transformer dans les secteurs concern√©s ?\n     *   **Nouvelles Opportunit√©s :** Quelles possibilit√©s (technologiques, √©conomiques, sociales) cela cr√©e-t-il ?\n     *   **Mod√®les Obsol√®tes :** Quels d√©fis ou mod√®les existants cela remet-il en cause ?\n     *   **Comp√©tences Critiques :** Quelles nouvelles comp√©tences ou infrastructures deviendront essentielles ?\n\n**Contraintes Strictes :**\n*   **Focus Futur :** Concentre-toi uniquement sur les implications futures. Ignore toute information historique ou biographique non essentielle.\n*   **Structure Th√©matique :** Organise ton analyse en grands axes ou domaines d'impact.\n\n**Livrable :** Une analyse prospective compl√®te, structur√©e et enti√®rement focalis√©e sur l'avenir tel qu'il d√©coule des id√©es du document."
          }
        ]
      },
      {
        "id": "analysis_critical",
        "icon": "üïµÔ∏è",
        "title": "V√©rification et Analyse Critique",
        "summary": "Agit en analyste pour v√©rifier des faits, analyser le contexte et √©valuer les implications.",
        "meta": "<strong>Tags :</strong> <code>fact-checking</code>, <code>analyse critique</code>, <code>investigation</code>",
        "comment": "Ce prompt est particuli√®rement puissant avec un outil de recherche internet activ√© pour v√©rifier les affirmations et trouver des sources contradictoires.",
        "versions": [
          {
            "id": "analysis_critical_v1",
            "name": "Standard",
            "content": "**R√¥le :** Analyste de renseignement et journaliste d'investigation.\n\n**Mission :** Examiner l'information fournie, √©valuer sa validit√© avec un esprit critique, et produire une analyse strat√©gique compl√®te.\n\n**Processus en 4 √âtapes :**\n\n**√âtape 1 : D√©construction et V√©rification**\n1.  **Isoler** l'affirmation centrale √† v√©rifier.\n2.  **Identifier** les personnes, organisations et sources mentionn√©es.\n3.  **Corroborer** l'information via des sources primaires et au moins 3 sources secondaires fiables et ind√©pendantes.\n4.  **Rechercher** activement des informations contradictoires, des d√©mentis ou des analyses alternatives.\n\n**√âtape 2 : Synth√®se des Faits**\n*   R√©sume de mani√®re objective ce qui est factuellement av√©r√©, ce qui est rapport√© mais non confirm√©, et ce qui est contest√©.\n\n**√âtape 3 : Analyse du Contexte et des Biais**\n1.  **Contexte :** Dans quel contexte plus large cette information s'inscrit-elle (politique, √©conomique, concurrentiel) ?\n2.  **Biais :** Analyse les biais potentiels de la source originale (intention de nuire, de promouvoir, etc.).\n3.  **Sources :** √âvalue la cr√©dibilit√© et la fiabilit√© des sources utilis√©es.\n\n**√âtape 4 : Analyse Strat√©gique et Implications**\n1.  **Cons√©quences :** Quelles sont les implications concr√®tes si l'information est vraie ? Pour qui ?\n2.  **Sc√©narios :** Quels sont les sc√©narios probables d√©coulant de cette information ?\n3.  **Recommandations :** Quelles actions ou vigilances sont recommand√©es ?\n\n**Livrable Final :** Un rapport d'analyse structur√© en 4 parties, correspondant aux √©tapes ci-dessus."
          }
        ]
      },
      {
        "id": "analysis_study_guide",
        "icon": "üéì",
        "title": "Analyse Acad√©mique (Guide d'√âtude)",
        "summary": "G√©n√®re un guide d'√©tude complet (TDM, r√©sum√©, concepts, etc.) √† partir d'un texte.",
        "meta": "<strong>Tags :</strong> <code>analyse acad√©mique</code>, <code>guide d'√©tude</code>, <code>synth√®se</code>, <code>critique litt√©raire</code>",
        "comment": "Particuli√®rement efficace sur des textes longs et denses comme des essais, des chapitres de livre ou des articles de fond pour en extraire la substance.",
        "versions": [
          {
            "id": "analysis_study_guide_v1",
            "name": "Standard",
            "content": "**R√¥le :** Analyste litt√©raire et acad√©mique expert.\n\n**Mission :** Cr√©er un guide d'√©tude exhaustif et structur√© √† partir du texte fourni.\n\n**Livrable Attendu (structure √† suivre imp√©rativement) :**\n\n**1. Table des Mati√®res D√©taill√©e**\n*   Cr√©e une table des mati√®res hi√©rarchis√©e. Pour chaque chapitre ou grande section, liste les 3-5 sous-th√®mes principaux.\n\n**2. Synth√®se Globale**\n*   **a. R√©sum√© Ex√©cutif (3-5 phrases) :** Th√®se centrale et objectif de l'≈ìuvre.\n*   **b. R√©sum√© D√©taill√© (~500 mots) :** D√©roul√© logique des arguments, des id√©es et des conclusions.\n\n**3. Concepts et Arguments Cl√©s**\n*   **a. Concepts Fondamentaux :** Identifie les 5-10 concepts cl√©s. Pour chacun, fournis une d√©finition concise bas√©e sur le texte.\n*   **b. Th√®ses Principales :** Liste les 3-5 arguments majeurs de l'auteur et la logique qui les soutient.\n\n**4. Personnages et Entit√©s Cl√©s**\n*   Liste les personnages ou entit√©s importantes et d√©cris leur r√¥le en une phrase.\n\n**5. Th√®mes et Ton**\n*   **a. Th√®mes Majeurs :** Identifie 3-5 th√®mes r√©currents.\n*   **b. Ton de l'Auteur :** D√©cris le ton (acad√©mique, exploratoire, humoristique, etc.) et justifie avec un exemple.\n\n**6. Citations Marquantes**\n*   Extrais 5 citations cl√©s et explique bri√®vement leur signification dans le contexte de l'≈ìuvre."
          }
        ]
      }
    ]
  },
  {
    "category": "3. Traitement & G√©n√©ration de Contenu",
    "prompts": [
      {
        "id": "gen_article_from_outline",
        "icon": "‚úçÔ∏è",
        "title": "G√©n√©rateur d'Article (Plan D√©taill√©)",
        "summary": "Prend un plan structur√© (titres, puces) et le d√©veloppe en un article complet et fluide.",
        "meta": "<strong>Tags :</strong> <code>r√©daction</code>, <code>article</code>, <code>g√©n√©ration de contenu</code>",
        "comment": "Id√©al pour transformer rapidement des notes ou un brainstorming en un premier jet d'article coh√©rent.",
        "versions": [
          {
            "id": "gen_article_from_outline_v1",
            "name": "Standard",
            "content": "**R√¥le :** R√©dacteur professionnel expert.\n\n**Mission :** Transformer le plan d√©taill√© fourni ci-dessous en un article riche, fluide et engageant. Tu dois √©toffer les id√©es, pas simplement les lister.\n\n**Instructions de R√©daction :**\n1.  **Structure :** Respecte scrupuleusement la structure du plan. Le titre principal et les titres de section doivent √™tre repris tels quels.\n2.  **D√©veloppement :**\n    *   Chaque point de liste (puce) du plan doit √™tre d√©velopp√© en phrases compl√®tes et explications d√©taill√©es.\n    *   R√©dige une introduction captivante qui pr√©sente le sujet et une conclusion solide qui r√©sume les points cl√©s.\n    *   Assure des transitions logiques et fluides entre chaque paragraphe et section.\n3.  **Ton et Style :** Adopte un ton [pr√©ciser le ton : ex: informatif, professionnel, persuasif, d√©contract√©...]. Le texte final doit √™tre int√©gralement en fran√ßais, clair et accessible.\n4.  **Fid√©lit√© :** N'introduis pas de nouveaux concepts majeurs qui ne sont pas pr√©sents dans le plan initial. Ton r√¥le est de d√©velopper, pas de r√©inventer.\n\n**Ex√©cute maintenant cette mission en te basant sur le plan suivant.**"
          }
        ]
      },
      {
        "id": "gen_translation",
        "icon": "üåê",
        "title": "Traduction de Transcriptions",
        "summary": "Transforme une transcription anglaise brute en un texte fran√ßais propre, coh√©rent et fluide.",
        "comment": "Id√©al pour nettoyer les transcriptions automatiques (YouTube, Otter.ai, etc.). La version avec horodatage est utile pour le sous-titrage vid√©o.",
        "versions": [
          {
            "id": "gen_translation_no_ts",
            "name": "Sans Horodatage",
            "content": "**R√¥le :** √âditeur-Traducteur Expert\n\n**Mission :** Transformer une transcription anglaise brute (g√©n√©ralement issue d'un outil automatique) en un texte fran√ßais parfaitement √©dit√©, fluide et coh√©rent. L'objectif n'est pas une traduction litt√©rale, mais une restauration de l'intention et de la clart√© du discours original.\n\n**Processus Op√©rationnel Imp√©ratif :**\n\n**√âtape 1 : Analyse Silencieuse du Texte Source**\n*Avant de traduire, analyse la transcription pour en diagnostiquer les imperfections et comprendre son essence.*\n1.  **Identifier les Scories :** Rep√®re les erreurs de transcription (mots mal transcrits, ponctuation erron√©e), les r√©p√©titions, les faux d√©parts, et les mots de remplissage envahissants (ex: \"like\", \"you know\", \"um\").\n2.  **D√©terminer le Contexte & Ton :** Identifie la nature du discours (interview, conf√©rence, conversation) et le ton (formel, informel, technique) pour adapter le style.\n3.  **Isoler la Terminologie Cl√© :** Rep√®re les termes techniques, le jargon ou les noms propres qui n√©cessiteront une traduction soign√©e et coh√©rente.\n4.  **Comprendre la Structure :** Note la pr√©sence d'intervenants distincts (ex: `Speaker 1:`).\n\n**√âtape 2 : Traduction √âditoriale vers le Fran√ßais**\n*En te fondant sur ton analyse, produis la traduction finale en appliquant rigoureusement les r√®gles suivantes :*\n1.  **Priorit√© √† la Clart√© :** Si une phrase est confuse √† cause d'une mauvaise transcription, restitue son sens le plus probable en te basant sur le contexte. **Ta priorit√© est de rendre l'intention du locuteur, pas les mots exacts de la transcription.**\n2.  **Nettoyage Syst√©matique :**\n    *   **Supprime** tous les mots de remplissage, h√©sitations et faux d√©parts qui n'apportent aucune valeur. Transforme les phrases orales hach√©es en prose √©crite fluide.\n    *   G√®re les passages inaudibles en les marquant `[inaudible]` ou en les omettant si cela ne nuit pas √† la compr√©hension.\n3.  **Traduction Idiomatique :**\n    *   Produis une traduction naturelle en fran√ßais, en √©vitant les calques de l'anglais.\n    *   Traite la terminologie cl√© avec pr√©cision, en utilisant les √©quivalents fran√ßais consacr√©s ou en conservant le terme anglais si c'est l'usage (ex: \"machine learning\").\n4.  **Formatage et Contraintes :**\n    *   Traduis les identifiants d'intervenants (ex: \"Speaker 1:\" devient \"Intervenant 1 :\").\n    *   **CONTRAINTE ABSOLUE : N'inclus AUCUN horodatage (timestamp) dans la sortie finale. Tout √©l√©ment comme `[00:12:34]` ou `0:12` doit √™tre imp√©rativement supprim√©.**\n\n**Livrable Final :**\nProduis un texte unique, int√©gralement en fran√ßais, propre et bien ponctu√©. Le r√©sultat doit se lire comme un script √©dit√©, et non comme une transcription brute."
          },
          {
            "id": "gen_translation_with_ts",
            "name": "Avec Horodatage",
            "content": "**R√¥le :** √âditeur-Traducteur Expert\n\n**Mission :** Transformer une transcription anglaise brute (g√©n√©ralement issue d'un outil automatique) en un texte fran√ßais parfaitement √©dit√©, fluide et coh√©rent, tout en pr√©servant les horodatages.\n\n**Processus Op√©rationnel Imp√©ratif :**\n\n**√âtape 1 : Analyse Silencieuse du Texte Source**\n*Avant de traduire, analyse la transcription pour en diagnostiquer les imperfections et comprendre son essence.*\n1.  **Identifier les Scories :** Rep√®re les erreurs de transcription (mots mal transcrits, ponctuation erron√©e), les r√©p√©titions, les faux d√©parts, et les mots de remplissage envahissants (ex: \"like\", \"you know\", \"um\").\n2.  **D√©terminer le Contexte & Ton :** Identifie la nature du discours (interview, conf√©rence, conversation) et le ton (formel, informel, technique) pour adapter le style.\n3.  **Isoler la Terminologie Cl√© :** Rep√®re les termes techniques, le jargon ou les noms propres qui n√©cessiteront une traduction soign√©e et coh√©rente.\n4.  **Comprendre la Structure :** Note la pr√©sence d'intervenants distincts (ex: `Speaker 1:`) et la position des horodatages.\n\n**√âtape 2 : Traduction √âditoriale vers le Fran√ßais**\n*En te fondant sur ton analyse, produis la traduction finale en appliquant rigoureusement les r√®gles suivantes :*\n1.  **Priorit√© √† la Clart√© :** Si une phrase est confuse √† cause d'une mauvaise transcription, restitue son sens le plus probable en te basant sur le contexte. **Ta priorit√© est de rendre l'intention du locuteur, pas les mots exacts de la transcription.**\n2.  **Nettoyage Syst√©matique :**\n    *   **Supprime** tous les mots de remplissage, h√©sitations et faux d√©parts qui n'apportent aucune valeur. Transforme les phrases orales hach√©es en prose √©crite fluide.\n    *   G√®re les passages inaudibles en les marquant `[inaudible]` ou en les omettant si cela ne nuit pas √† la compr√©hension.\n3.  **Traduction Idiomatique :**\n    *   Produis une traduction naturelle en fran√ßais, en √©vitant les calques de l'anglais.\n    *   Traite la terminologie cl√© avec pr√©cision.\n4.  **Formatage et Contraintes :**\n    *   Traduis les identifiants d'intervenants (ex: \"Speaker 1:\" devient \"Intervenant 1 :\").\n    *   **CONTRAINTE ABSOLUE : Pr√©serve et conserve TOUS les horodatages (timestamps) exactement √† leur position d'origine dans le texte.**\n\n**Livrable Final :**\nProduis un texte unique, int√©gralement en fran√ßais, propre, bien ponctu√© et contenant tous les horodatages originaux."
          }
        ]
      },
      {
        "id": "gen_summary_card",
        "icon": "üìù",
        "title": "Fiche Synth√©tique Standardis√©e",
        "summary": "G√©n√®re une fiche de synth√®se en recherchant les m√©tadonn√©es manquantes en ligne.",
        "meta": "<strong>Tags :</strong> <code>recherche internet</code>, <code>fiche de synth√®se</code>, <code>documentation</code>",
        "comment": "Pour des r√©sultats optimaux, activez les outils de recherche et fournissez une URL directe vers la source si possible. Tr√®s efficace pour les vid√©os YouTube et les articles de blog.",
        "versions": [
          {
            "id": "gen_summary_card_v1",
            "name": "Standard",
            "content": "**Mission :** G√©n√©rer une fiche synth√©tique standardis√©e pour le document fourni, en utilisant la recherche internet pour compl√©ter les m√©tadonn√©es manquantes.\n\n**Processus Op√©rationnel :**\n\n1.  **Recherche Internet (Obligatoire) :**\n    *   Utilise la recherche pour trouver la source originale du document (vid√©o, podcast, article).\n    *   R√©cup√®re les m√©tadonn√©es officielles : titre complet, date de publication exacte, intervenants, plateforme de diffusion.\n\n2.  **Extraction et R√©daction :**\n    *   Extrais les informations requises √† partir de tes recherches et du texte.\n    *   R√©dige un r√©sum√© concis et informatif mettant en √©vidence les id√©es et th√®mes principaux.\n\n**Livrable Final (Format Imp√©ratif) :**\n*   Structure la sortie en suivant EXACTEMENT le mod√®le ci-dessous.\n*   Le titre doit commencer par la date au format `AAAA-MM-JJ` pour le classement.\n*   N'inclus aucune citation de recherche ou nom de fichier source.\n\n**--- D√âBUT DU MOD√àLE ---**\n\nAAAA-MM-JJ - [Nom de l'intervenant principal], [Son r√¥le/Titre] - [Type de m√©dia]\n\n**Titre M√©dia :** [Ins√©rer le titre officiel et complet du m√©dia]\n**Date de publication :** [Ins√©rer la date au format \"jour mois ann√©e\"]\n**Type de m√©dia :** [Ins√©rer le type]\n**Intervenants :** [Ins√©rer la liste des intervenants]\n\n**R√©sum√© :**\n[Ins√©rer votre r√©sum√© concis ici]\n\n**--- FIN DU MOD√àLE ---**"
          }
        ]
      }
    ]
  },
  {
    "category": "4. G√©n√©ration de Code & Visualisation",
    "prompts": [
      {
        "id": "code_gen_mindmap",
        "icon": "üé®",
        "title": "G√©n√©rateur de Carte Mentale HTML",
        "summary": "Convertit une analyse de texte structur√©e en une page HTML interactive (carte mentale).",
        "meta": "<strong>Pr√©requis :</strong> N√©cessite une analyse structur√©e en entr√©e.<br/><strong>Tags :</strong> <code>HTML</code>, <code>g√©n√©ration de code</code>, <code>carte mentale</code>",
        "comment": "Fonctionne id√©alement avec la sortie du prompt 'Synth√®se Structur√©e (Markdown)' comme base d'entr√©e.",
        "versions": [
          {
            "id": "code_gen_mindmap_v1",
            "name": "Standard",
            "content": "**R√¥le :** G√©n√©rateur de code expert.\n\n**Mission :** Convertir une analyse de texte structur√©e (n≈ìud, branches, sous-branches) en un fichier HTML unique et autonome affichant une carte mentale interactive.\n\n**Sp√©cifications Techniques Imp√©ratives :**\n\n1.  **HTML (Structure) :**\n    *   Utiliser une structure de listes imbriqu√©es (`<ul>` et `<li>`) pour la hi√©rarchie.\n    *   Le titre g√©n√©ral doit √™tre une balise `<h1>`.\n    *   Chaque √©l√©ment parent (contenant une liste imbriqu√©e) doit √™tre cliquable pour d√©plier/replier son contenu.\n\n2.  **CSS (Style - dans une balise `<style>`) :**\n    *   **Apparence :** Police sans-serif, couleurs contrast√©es, suppression des puces de liste (`list-style-type: none`).\n    *   **Lignes de Connexion :** Utiliser des pseudo-√©l√©ments `::before` et `::after` pour cr√©er des lignes reliant visuellement les parents √† leurs enfants.\n    *   **Interactivit√© :** Le curseur doit devenir un pointeur au survol des √©l√©ments cliquables. Un indicateur visuel (ex: `+ / -`) doit montrer l'√©tat d√©pli√©/repli√©.\n\n3.  **JavaScript (Interactivit√© - dans une balise `<script>`) :**\n    *   **Autonomie :** Aucun framework ou librairie externe (pas de jQuery, etc.).\n    *   **Logique :** Utiliser `DOMContentLoaded`. Ajouter des √©couteurs d'√©v√©nements sur les √©l√©ments cliquables pour basculer une classe (ex: `.collapsed`) et modifier l'indicateur visuel.\n\n**Livrable :** Un unique bloc de code contenant l'int√©gralit√© du HTML, CSS et JavaScript."
          }
        ]
      },
      {
        "id": "code_gen_auto_html",
        "icon": "üèóÔ∏è",
        "title": "Structuration de Texte en HTML",
        "summary": "Analyse un texte brut, inf√®re sa structure et g√©n√®re une page HTML interactive.",
        "meta": "<strong>Tags :</strong> <code>analyse s√©mantique</code>, <code>HTML</code>, <code>g√©n√©ration de code</code>",
        "comment": "Un prompt tout-en-un qui combine analyse s√©mantique et g√©n√©ration de code. Id√©al pour transformer rapidement un texte brut en page web interactive.",
        "versions": [
          {
            "id": "code_gen_auto_html_v1",
            "name": "Standard",
            "content": "**R√¥le :** Analyste de contenu expert et d√©veloppeur web full-stack.\n\n**Mission :** Analyser le texte brut fourni et g√©n√©rer un fichier HTML unique, autonome, structur√© et interactif qui en pr√©sente une synth√®se hi√©rarchique.\n\n**Processus en 3 √âtapes :**\n\n**√âtape 1 : Inf√©rence des M√©tadonn√©es**\n*Analyse le texte pour extraire les informations suivantes :*\n*   **Auteur/Intervenant :** Le nom de la personne qui parle ou √©crit.\n*   **Titre du Contenu :** Le titre principal du document. Si absent, synth√©tise un titre pertinent.\n*   **Langue :** La langue principale du texte (pour `<html>`).\n\n**√âtape 2 : Analyse S√©mantique et Structuration**\n*D√©gage la structure logique du contenu :*\n1.  **Th√®se Centrale :** L'id√©e ou l'argument fondamental.\n2.  **Th√®mes Principaux :** Les 5 √† 7 sections logiques les plus importantes.\n3.  **Contenu D√©taill√© :** Pour chaque th√®me, extrais les sous-points, arguments, citations marquantes, analogies et conclusions.\n\n**√âtape 3 : G√©n√©ration du Fichier HTML**\n*Construis le fichier HTML en respectant les sp√©cifications du prompt `code_gen_mindmap_v1` :*\n*   **Carte Mentale Interactive :** Utilise la structure de listes `<ul>/<li>` imbriqu√©es et cliquables.\n*   **Contenu Int√©gr√© :** Place la th√®se centrale, les th√®mes principaux, les sous-points et les citations dans la structure de la carte mentale.\n*   **Autonome :** Inclus tout le CSS et le JavaScript dans le m√™me fichier, sans d√©pendances externes.\n\n**Livrable :** Un unique bloc de code HTML complet et fonctionnel."
          }
        ]
      }
    ]
  },
  {
    "category": "5. M√©ta-Prompts & Optimisation",
    "prompts": [
      {
        "id": "meta_optimizer",
        "icon": "üîß",
        "title": "Optimiseur de Prompt (Module)",
        "summary": "Analyse et r√©√©crit n'importe quel prompt pour en maximiser la clart√©, l'efficacit√© et la performance.",
        "meta": "<strong>Tags :</strong> <code>m√©ta-prompt</code>, <code>optimisation</code>, <code>prompt engineering</code>",
        "comment": "Collez l'une de ces versions √† la fin de votre propre prompt pour l'analyser au lieu de l'ex√©cuter. Un outil essentiel pour apprendre √† mieux prompter.",
        "versions": [
          {
            "id": "meta_optimizer_v1_simple",
            "name": "Module d'Optimisation Rapide",
            "content": "---\n**INSTRUCTION SECONDAIRE :**\nN'ex√©cute PAS la demande ci-dessus. Ta mission est de l'analyser et de la reformuler pour la rendre plus claire, sp√©cifique et efficace. Ensuite, explique en quelques points les am√©liorations que tu as apport√©es."
          },
          {
            "id": "meta_optimizer_v2_expert",
            "name": "Module d'Audit d'Expert",
            "content": "---\n**FIN DE L'INVITE INITIALE. INSTRUCTION SECONDAIRE :**\nAgis maintenant en tant qu'expert en Ing√©nierie de Prompt. Ta mission n'est PAS de r√©pondre √† l'invite ci-dessus, mais de l'auditer et de la r√©√©crire.\n\n**Processus :**\n1.  **Analyse Critique :** Identifie les faiblesses du prompt original (impr√©cision, manque de contexte, ambigu√Øt√©, etc.).\n2.  **R√©√©criture Strat√©gique :** Propose une version optimis√©e appliquant les meilleures pratiques (r√¥le, mission, contraintes, format de sortie).\n3.  **Justification :** Pr√©sente un tableau comparatif \"Avant / Apr√®s\" expliquant chaque modification et son b√©n√©fice pour la performance du mod√®le."
          },
          {
            "id": "meta_optimizer_v3_goal",
            "name": "Module d'Alignement sur Objectif",
            "content": "---\n**INSTRUCTION D'OPTIMISATION :**\nNe r√©ponds PAS √† la demande ci-dessus. Ta t√¢che est de l'optimiser pour qu'elle atteigne mieux l'objectif final que je d√©cris ci-dessous.\n\n**Mon objectif final :** [D√âCRIRE ICI LE R√âSULTAT PR√âCIS QUE VOUS SOUHAITEZ OBTENIR]\n\n**Ta mission :**\n1.  Propose une nouvelle invite, beaucoup plus d√©taill√©e et structur√©e, sp√©cifiquement con√ßue pour atteindre cet objectif.\n2.  Explique ensuite bri√®vement pourquoi ta version est plus performante pour y parvenir."
          }
        ]
      }
    ]
  }
];

document.addEventListener('DOMContentLoaded', () => {
    const libraryContainer = document.getElementById('prompt-library');
    
    // Modal elements
    const modalBackdrop = document.getElementById('modal-backdrop');
    const modalTitle = document.getElementById('modal-title');
    const modalCode = document.getElementById('modal-code');
    const copyBtn = document.getElementById('copy-btn');
    const closeModalBtn = document.getElementById('close-modal-btn');
    
    let currentPromptContent = '';

    // Function to render the entire library
    function renderLibrary(data) {
        let html = '';
        data.forEach(category => {
            const promptsHtml = category.prompts.map(prompt => {
                const versionsHtml = prompt.versions.map(version => 
                    `<button class="version-btn" data-title="${escapeHtml(prompt.title)} - ${escapeHtml(version.name)}" data-content="${escapeHtml(version.content)}">${version.name}</button>`
                ).join('');

                return `
                    <li class="prompt-item">
                        <div class="prompt-header collapsible">
                            <span class="indicator">+</span>
                            <span class="prompt-icon">${prompt.icon}</span>
                            <span>${prompt.title}</span>
                        </div>
                        <div class="prompt-details collapsed-content">
                            <p class="summary">${prompt.summary}</p>
                            ${prompt.comment ? `<p class="comment">${prompt.comment}</p>` : ''}
                            <div class="versions-container">
                                ${versionsHtml}
                            </div>
                        </div>
                    </li>
                `;
            }).join('');

            html += `
                <li class="category-item">
                    <h2 class="category-title collapsible">
                        <span class="indicator">+</span>
                        <span>${category.category}</span>
                    </h2>
                    <ul class="prompt-list collapsed-content">
                        ${promptsHtml}
                    </ul>
                </li>
            `;
        });
        libraryContainer.innerHTML = html;
    }
    
    // Helper to escape HTML characters
    function escapeHtml(text) {
        if (typeof text !== 'string') return '';
        const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
        return text.replace(/[&<>"']/g, m => map[m]);
    }

    // --- LOGIC FOR COLLAPSIBLE ACCORDION ---
    function updateParentMaxHeight(element, change) {
        let parent = element.parentElement.closest('.collapsed-content');
        if (parent) {
            const newHeight = parent.scrollHeight + change;
            if (newHeight > 0) {
                 parent.style.maxHeight = `${newHeight}px`;
                 // Recursively update upwards
                 updateParentMaxHeight(parent, change);
            }
        }
    }
    
    // Event delegation for collapsible elements
    libraryContainer.addEventListener('click', (e) => {
        const header = e.target.closest('.collapsible');
        if (!header) return;

        header.classList.toggle('active');
        const indicator = header.querySelector('.indicator');
        const content = header.nextElementSibling;
        
        if (content && content.classList.contains('collapsed-content')) {
             const currentHeight = content.scrollHeight;
            if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                // Collapse
                content.style.maxHeight = '0px';
                if(indicator) indicator.textContent = '+';
                updateParentMaxHeight(content, -currentHeight);
            } else {
                // Expand
                content.style.maxHeight = currentHeight + 'px';
                if(indicator) indicator.textContent = '√ó';
                updateParentMaxHeight(content, currentHeight);
            }
        }
    });
    
    // --- EVENT LISTENERS FOR MODAL ---
    
    // Event delegation for version buttons to open modal
    libraryContainer.addEventListener('click', (e) => {
        const versionBtn = e.target.closest('.version-btn');
        if (!versionBtn) return;
        
        modalTitle.textContent = versionBtn.dataset.title;
        currentPromptContent = versionBtn.dataset.content;
        modalCode.textContent = currentPromptContent;
        modalBackdrop.classList.add('visible');
    });

    // Close modal
    function hideModal() {
        modalBackdrop.classList.remove('visible');
    }
    closeModalBtn.addEventListener('click', hideModal);
    modalBackdrop.addEventListener('click', (e) => {
        if (e.target === modalBackdrop) {
             hideModal();
        }
    });

    // Copy to clipboard
    copyBtn.addEventListener('click', () => {
        navigator.clipboard.writeText(currentPromptContent).then(() => {
            const originalText = copyBtn.textContent;
            copyBtn.textContent = 'Copi√© !';
            setTimeout(() => {
                copyBtn.textContent = originalText;
            }, 2000);
        }).catch(err => {
            console.error('Erreur lors de la copie: ', err);
            alert('La copie a √©chou√©.');
        });
    });

    // Initial render
    renderLibrary(promptsData);
});
</script>

</body>
</html>